<div class="form-container">
  <form
    [formGroup]="transactionForm()!"
    class="grid grid-cols-1"
    (ngSubmit)="manageTransaction()"
  >
    <i>If no category is selected, transaction will be considered as Income</i>
    <div class="flex flex-col mt-3">
      <label>Category</label>
      <p-select
        optionLabel="label"
        placeholder="Select a category"
        [options]="categories()"
        appendTo="body"
        class="mt-3 w-full"
        formControlName="category"
        showClear="true"
        (onChange)="onCategoryChange($event)"
      />
    </div>

    <div class="flex w-full gap-5">
      <div class="flex flex-col mt-3 w-1/2">
        <label>Transaction Date</label>
        <p-datepicker
          [iconDisplay]="'input'"
          [showIcon]="true"
          inputId="icondisplay"
          appendTo="body"
          class="mt-3"
          styleClass="w-full"
          formControlName="date"
        />
      </div>

      <div class="flex flex-col mt-3 w-1/2">
        <label>Amount</label>
        <p-inputNumber
          class="mt-3"
          min="0.01"
          minFractionDigits="2"
          formControlName="amount"
        ></p-inputNumber>
      </div>
    </div>

    <div class="flex flex-col">
      <label class="mt-3">Recipient / Sender</label>
      <input
        type="text"
        pInputText
        class="mt-3"
        formControlName="recipientOrSender"
      />
    </div>

    <div class="flex flex-col mt-3">
      <label>Type</label>
      <div class="flex mt-3 gap-5 items-center">
        <div class="flex items-center">
          <p-radiobutton
            value="income"
            inputId="income"
            formControlName="type"
          />
          <label for="income" class="ml-2 mt-1">Income</label>
        </div>

        <div class="flex items-center">
          <p-radiobutton
            value="expense"
            inputId="expense"
            formControlName="type"
          />
          <label for="expense" class="ml-2 mt-1">Expense</label>
        </div>
      </div>
    </div>

    <button
      type="submit"
      class="mt-3 w-1/3 m-auto"
      pButton
      [disabled]="transactionForm()?.invalid"
    >
      Add Transaction
    </button>
  </form>
</div>
